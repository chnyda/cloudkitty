- name: OpenStack

  collector: gnocchi
  period: 3600
  wait_periods: 2
  window: 1800

  services:
    - compute
    - volume
    - network.bw.in
    - network.bw.out
    - network.floating
    - image

  services_objects:
    compute: instance
    volume: volume
    network.bw.out: instance_network_interface
    network.bw.in: instance_network_interface
    network.floating: network
    image: image
    radosgw.usage: ceph_account

  services_metrics:
    compute:
      - vcpus: mean
      - memory: mean
      - cpu: mean
      - disk.root.size: mean
      - disk.ephemeral.size: mean
    volume:
      - volume.size: mean
    network.bw.in:
      - network.incoming.bytes: mean
    network.bw.out:
      - network.outgoing.bytes: mean
    network.floating:
      - ip.floating: mean
    image:
      - image.size: mean
      - image.download: mean
      - image.serve: mean
    radosgw.usage:
      - radosgw.objects.size: mean

  metrics_units:
    compute:
      1:
        unit: instance
    volume:
      volume.size:
        unit: GiB
    network.bw.in:
      network.incoming.bytes:
        unit: MB
        factor: 1/1000000
    network.bw.out:
      network.outgoing.bytes:
        unit: MB
        factor: 1/1000000
    network.floating:
      1:
        unit: ip
    image:
      image.size:
        unit: MiB
        factor: 1/1048576
    radosgw.usage:
      radosgw.objects.size:
        unit: GiB
        factor: 1/1073741824
    default_unit:
      1:
        unit: unknown
